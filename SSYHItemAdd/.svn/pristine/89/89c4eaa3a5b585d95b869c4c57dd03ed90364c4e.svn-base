<!DOCTYPE>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title></title>
    <!-- 最新 Bootstrap 核心 CSS 文件 -->
    <link href="css/superCheapStyle.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="css/custom.css" rel="stylesheet" type="text/css" media="all">
    <link href="css/reset.css" rel="stylesheet" type="text/css" media="all">
    <script type="text/javascript" src="js/popwin.js"></script>
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="js/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <style type="text/css">
        body{
            font-family: "microsoft yahei";
            font-size: 14px;
        }
        .table th{
            background: #b9def0;
        }
    </style>
</head>
<body onload="onLoad()">
<div>
    <button class="btn btn-primary" onclick="Assess_OptionAdd()" style="margin: 20px;">添 加</button>
    <table class="table" style="border: 1px solid #08c">
    </table>
</div>
</body>
<script type="text/javascript">
    function onLoad(){
        var data = '';
        $.ajax({
            url:"superDiscount/AssessOptionAction?actionmethod=getAssessOptionList",
            dataType:"json",
            type:"POST",
            success:function(ret){
                var jsonList =  ret;
                data = '<tr><th>编 号</th><th>显示内容</th><th>是否显示</th><th>操 作</th></tr>';
                for(var i=0; i<jsonList.length;i++){
                    data +='<tr><td>'+jsonList[i].id+'</td><td>'+jsonList[i].content+'</td><td>'+transition(jsonList[i].isShow)+'</td>' +
                        '<td><button type="button" class="btn btn-sm btn-info" onclick="Assess_OptionEdit('+jsonList[i].id+')">修 改</button>' +
                        '<button type="button" class="btn btn-sm btn-warning" style="margin-left: 10px;" onclick="Assess_OptionDel('+jsonList[i].id+')">删 除</button>' +
                        '</td></tr>';
                }
                $('.table').append(data);
            }
        })
    }
    function GetQueryString(name){   //获取浏览器的参数
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if(r!=null)return  unescape(r[2]);
    }
    function Assess_OptionEdit(id){
        popWin.showWin('500','400','修改内容','AssessOptionEdit.html?id=' + id);
    }
    function Assess_OptionAdd(){
        popWin.showWin('500','400','添加内容','AssessOptionAdd.html?');
    }
    function Assess_OptionDel(id){
    	console.debug(document.getElementById("showDiv"));
       if(confirm("sure to del ?")){
        $.ajax({
            url:"superDiscount/AssessOptionAction?actionmethod=deleteAssessOptionById",
            data: "&id="+id,
           /* dataType:"json",*/
            type:"POST",
            success:function(ret){
            	window.location.reload();
            }
        });
       }
    }
    function transition(key){
        var dict={'1':'是','0':'否'};
        return dict[key];
    }
</script>

</html>
